{% extends 'store/main.html' %}
{% load static %}

{% block content %}
<div class="row">
	<div class="col-lg-6" style="margin: auto;">
		<div class="box-element" style="position: sticky; top: 10px;">

			<a  class="btn btn-outline-warning btn-sm" href="{% url 'store' %}">< Continue Shopping</a>

			<br>
			<hr>

			<div class="subtotal" style="text-align: center;">
				<h5 style="margin-bottom: 10px; display: inline-block;">Subtotal (</h5><h5 id="cart-subtotal-items"style="margin-bottom: 10px; display: inline-block;">{{order.get_cart_items}}</h5><h5 style="margin-bottom: 10px; display: inline-block;">&nbsp;items):&nbsp;&nbsp;&#8377;<strong id="cart-subtotal">{{order.get_cart_total|floatformat:0}}</strong></h5>
				{% if order.get_cart_items != 0 %}
				<a class="btn btn-success btn-block" href="{% url 'checkout' %}">Proceed to Buy</a>
				{% endif %}
			</div>
		</div>

		{% for item in items %}
		<div class="box-element">

			<div class="cart-row" style="margin-bottom: 20px">
				<div style="flex:1"><img class="row-image" src="{{item.product.imageURL}}"></div>
				<div style="flex:2">
					<p>{{item.product.name}}<br>&#8377; {{item.product.price|floatformat:1}}</p>
				</div>
			</div>

			<div class="cart-row">
				<div style="flex:2;">
					<button data-price="{{item.product.price}}" data-product="{{item.product.id}}" data-action="remove" class="btn btn-sm btn-outline-primary addsub update-cart" style="margin-right: 10px;"><strong>-</strong></button>
					<strong value="{{item.product.id}}" id='prod-quantity'>{{item.quantity}}</strong>
					<button data-price="{{item.product.price}}" data-product="{{item.product.id}}" data-action="add" class="btn btn-sm btn-outline-primary addsub update-cart" style="margin-left: 10px;"><strong>+</strong></button>
				</div>
				<div style="flex:1;">
					<button data-product="{{item.product.id}}" data-action="delete" class="btn btn-outline-warning btn-sm update-cart" style="float: right;">Delete</button>
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
</div>

{% endblock content %}